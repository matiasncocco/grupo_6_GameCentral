<%- include ('../partials/head') %>
<%- include ('../partials/header') %>
<main class="main-main">
    <header class="main-title first-title">
        <h3 class="big-title">
            EDITAR ARTÍCULO
        </h3>
        <h5 class="small-title">
            EDITAR ARTÍCULO
        </h5>
    </header>
    <form class="product-create-form" action="/products/<%= editableGame.id %>?_method=PUT" method="POST" enctype="multipart/form-data">
        <section class="product-create-section">
            <!-- name -->
            <div class="input-box">
                <label class="label-label" for="name">
                    Nombre
                </label>
                <input 
                    class="input-text input-text-product" 
                    type="text" 
                    name="title" 
                    id="title" 
                    value="<%= editableGame.title%>" 
                    required
                >
            </div>
            <!-- category -->
            <div class="input-box category-box">
                <% editableGame.categories.forEach(category => { %>
                    <div class="single-category">
                        <label class="label-label" for="<%= category.title %>">
                            Categoría                         
                        </label>
                        <input
                            class="input-text input-text-product"
                            type="text"
                            name="title"
                            id="<%= category.title %>"
                            required
                            value="<%= category.title %>"
                        >
                    </div>
                <% }) %>
            </div>
            <!-- FILES x2 -->
            <div class="input-box file-box">
                <label class="label-label file-box-label">
                    Imágenes
                </label>
                <!-- img -->
                <label class="label-label input-text label-file product-file" for="img">
                    <% if (editableGame.img) { %>
                        <div class="previous-image-box">
                            <img class="box-width" src="/img/products/<%= editableGame.img %>">
                        </div>
                    <% } %>
                    <input 
                        class="input-file" 
                        type="file" 
                        name="img" 
                        id="img" 
                        accept=".jpg, .jpeg, .png, .webp"
                    >
                    Imágen principal 1920x1080
                </label>
                <!-- card -->
                <label class="label-label input-text label-file product-file" for="card">
                    <% if (editableGame.card) { %>
                        <div class="previous-image-box">
                            <img src="/img/products/<%= product.card %>">
                        </div>
                    <% } %>
                    <input 
                        class="input-file" 
                        type="file"
                        name="card" 
                        id="card" 
                        accept=".jpg, .jpeg, .png, .webp"
                    >
                    Imágen tipo tarjeta 271x377
                </label>
            </div>           
            <!-- relevant -->
            <div class="input-box">
                <label class="label-label">
                    ¿Clasificar producto como "RELEVANT"?
                </label>
                <label class="label-label label-radio" for="relevant-true">
                    RELEVANT product
                    <input 
                        class="input-radio" 
                        type="radio" 
                        name="relevant" 
                        value="true" 
                        id="relevant-true" 
                        required 
                        <%= editableGame.relevant == true ? 'checked' : '' %>
                    >
                </label>
                <label class="label-label label-radio" for="relevant-false">
                    NOT relevant product
                    <input 
                        class="input-radio" 
                        type="radio" 
                        name="relevant" 
                        value="false" 
                        id="relevant-false" 
                        required 
                        <%= editableGame.relevant == false ? 'checked' : '' %>
                    >
                </label>
            </div>
            <!-- price -->
            <div class="input-box">
                <label class="label-label" for="price">
                    Precio
                </label>
                <span class="discount-indicator">
                    $
                </span>
                <input 
                    class="input-text input-price" 
                    type="number" 
                    name="price" 
                    id="price" 
                    placeholder="1999"
                    maxlength="4" 
                    min="1"
                    max="9999"
                    step=".01"
                    required
                    value="<%= editableGame.price %>"
                >
            </div>
            <!-- inOffer -->
            <div class="input-box">
                <label class="label-label">
                    ¿Está éste producto en oferta?
                </label>
                <label class="label-label label-radio" for="inOffer-true">
                    Si
                    <input 
                        class="input-radio" 
                        type="radio" 
                        name="offer" 
                        value="true" 
                        id="offer-true" 
                        required 
                        <%= editableGame.inOffer == true ? 'checked' : '' %>
                    >
                </label>
                <label class="label-label label-radio" for="inOffer-false">
                    No
                    <input 
                        class="input-radio" 
                        type="radio" 
                        name="offer" 
                        value="false" 
                        id="offer-false" 
                        required 
                        <%= editableGame.inOffer == false ? 'checked' : '' %>
                    >
                </label>
            </div>
            <!-- discount -->
            <div class="input-box">
                <span class="rule-indicator">
                    *Solo si se quiere aplicar un DESCUENTO
                </span>
                <label class="label-label discount-rate-label" for="discount">
                    ¿Qué porcentaje de DESCUENTO se debe aplicar?
                </label>
                <span class="discount-indicator">
                    %
                </span>
                <input 
                    class="input-text input-discount" 
                    type="number" 
                    name="discount" 
                    id="discount"
                    placeholder="50"
                    min="1"
                    max="99"
                    step="1" 
                    value="<%= editableGame.discount %>"
                >
            </div>
            </div>
            <!-- description -->
            <div class="input-box">
                <label class="label-label" for="description">
                    Descripción
                </label>
                <textarea 
                    class="text-area-product" 
                    name="description" 
                    id="description" 
                    rows="15" 
                    maxlength="3000" 
                    required
                >
                    <%= editableGame.description %>
                </textarea>
            </div>
            <!-- BUTTONS -->
            <div class="button-box">
                <button class="button-send" type="submit">
                    <h1 class="big-title">
                        EDITAR
                    </h1>
                    <h4 class="small-title">
                        EDITAR
                    </h4>
                </button>
                <button class="button-cancel" type="button">
                    <a href="/products/<%= editableGame.id %>">
                        <h3 class="big-title">
                            CANCELAR
                        </h3>
                    </a>
                    <a href="/products/<%= editableGame.id %>">
                        <h5 class="small-title">
                            CANCELAR
                        </h5>
                    </a>
                </button>
            </div>
        </section>
    </form>
</main>
<%- include ('../partials/footer') %>